'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},_createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var EventEmitter=function(){function a(){_classCallCheck(this,a),this.VERSION='0.0.2',this._events={}}return _createClass(a,[{key:'isValidListener',value:function isValidListener(b){return'function'==typeof b||b&&'object'===('undefined'==typeof b?'undefined':_typeof(b))&&this.isValidListener(b.listener)}},{key:'on',value:function on(b,c){if(b&&c){if(!this.isValidListener(c))throw new TypeError('listener must be a function');var d=this._events,e=d[b]=d[b]||[],f='object'===('undefined'==typeof c?'undefined':_typeof(c));return-1===e.indexOf(c)&&e.push(f?c:{listener:c,once:!1}),this}}},{key:'once',value:function once(b,c){return this.on(b,{listener:c,once:!0})}},{key:'off',value:function off(b,c){var d=this._events[b];if(d){var e;return d.forEach(function(f,g){if(f&&f.listener===c)return void(e=g)}),'undefined'!=typeof e&&d.splice(e,1),this}}},{key:'emit',value:function emit(b,c){var e=this;if(b){var d=this._events[b]||[];return d.length?(d.forEach(function(f){f&&(f.listener.apply(e,c||[]),f.once&&e.off(b,f.listener))}),this):void console.warn('there is no event named : '+b)}}},{key:'allOff',value:function allOff(b){b&&this._events[b]?this._events[b]=[]:this._events={}}}]),a}();module.exports=EventEmitter;